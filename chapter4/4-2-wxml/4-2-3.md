#4.2.3 列表渲染

列表是常见的样式，如果你接触过 Android 或者 iOS 开发,列表可以用 ListView 或者 TableView 实现。

相比之下,小程序实现的方式更加的直观,容易理解。.wxml文件可以使用列表语句将列表中的各项数据进行重复渲染。语法包括`wx:for`和`wx:key`。

**wx:for**

在组件上使用`wx:for`控制属性绑定一个数组，即可使用数组中各项的数据重复渲染该组件。

默认数组的当前项的下标变量名默认为`index`，数组当前项的变量名默认为`item`
```xml
<!--index.wxml-->
<view wx:for="{{array}}">
  {{index}}: {{item.message}}
</view>
```
```js
//index.js
Page({
  data: {
    array: [{
      message: 'foo',
    }, {
      message: 'bar'
    }]
  }
})
```
运行结果如图4-3所示。
![](/assets/图4-3.png)图4-3

如果你不想使用默认的`index`和`item`可以使用 `wx:for-item` 可以指定数组当前元素的变量名，使用 `wx:for-index` 可以指定数组当前下标的变量名：
```xml
<view wx:for="{{array}}" wx:for-index="idx" wx:for-item="itemName">
  {{idx}}: {{itemName.message}}
</view>
```
`wx:for`也可以嵌套，下边是一个九九乘法表:
```xml
<view wx:for="{{[1, 2, 3, 4, 5, 6, 7, 8, 9]}}" wx:for-item="i">
  <view wx:for="{{[1, 2, 3, 4, 5, 6, 7, 8, 9]}}" wx:for-item="j">
    <view wx:if="{{i <= j}}">
      {{i}} * {{j}} = {{i * j}}
    </view>
  </view>
</view>
```
**block wx:for**
类似`block wx:if`，也可以将`wx:for`用在`<block/>`标签上，以渲染一个包含多节点的结构块。例如：
```xml
<block wx:for="{{[1, 2, 3]}}">
  <view> {{index}}: </view>
  <view> {{item}} </view>
</block>
```
默认生成的Quick Start项目中的log.wxml就使用了列表渲染:
```xml
<!--logs.wxml-->
<view class="container log-list">
  <block wx:for="{{logs}}" wx:for-item="log" wx:key="*this">
    <text class="log-item">{{index + 1}}. {{log}}</text>
  </block>
</view>
```

**wx:key**

