#8-1-2 上传下载
在小程序开发过程中，经常会用到文件上传下载功能。这就会用到网络交互上传下载API。
####1.上传
wx.uploadFile(OBJECT)上传API
将本地资源上传到开发者服务器。如页面通过 wx.chooseImage 等接口获取到一个本地资源的临时文件路径后，可通过此接口将本地资源上传到指定服务器。客户端发起一个 HTTPS POST 请求，其中 content-type 为 multipart/form-data 。
OBJECT参数说明如表8-3所示：

表8-3

| 参数名 | 类型 | 必填 | 说明 |
| :--- | :--- | :--- | :--- |
| url | String | 是 | 开发者服务器 url |
| filePath | String | 是 | 要上传文件资源的路径 |
| name | String | 是 | 文件对应的 key , 开发者在服务器端通过这个 key 可以获取到文件二进制内容 |
| header | Object | 否 | HTTP 请求 Header , header 中不能设置 Referer |
| formData | Object | 否 | HTTP 请求中其他额外的 form data |
| success | Function | 否 | 接口调用成功的回调函数 |
| fail | Function | 否 | 接口调用失败的回调函数 |
| complete | Function | 否 | 接口调用结束的回调函数（调用成功、失败都会执行） |

success返回参数说明，如表8-4所示：

表8-4

| 参数名 | 类型 | 说明 |
| :--- | :--- | :--- |
| data | String | 开发者服务器返回的数据 |
| statusCode | Number | HTTP状态码 |

示例代码：


```js
wx.chooseImage({
  success: function(res) {
    var tempFilePaths = res.tempFilePaths
    wx.uploadFile({
      url: 'https://example.com/upload', //仅为示例，非真实的接口地址
      filePath: tempFilePaths[0],
      name: 'file',
      formData:{
        'user': 'test'
      },
      success: function(res){
        var data = res.data
        //do something
      }
    })
  }
})
```
**注意:**

* 最大并发限制是 10 个。
* 默认超时时间和最大超时时间都是 60s。


####2.下载
