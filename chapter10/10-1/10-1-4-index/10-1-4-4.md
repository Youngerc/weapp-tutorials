##### 检索页 （中）

接着我们完成历史记录部分,完成后应该类似图10-6：

![](/assets/20170214163423.png) 图10-6

这部分也是列表样式，每一项由前面的时钟图标，中间的文字以及最后表示删除的“X”组成，最下方为清空整个列表的选项。

```
<view class="search-hi" wx:if="{{showSearchPanel == 2}}">
    <block wx:if="{{historySearchs.length > 0}}">
      <view class="search-hi-item" wx:for="{{historySearchs}}" wx:key="unique">
        <view class="hi-icon"></view>
        <text class="hi-text" data-key="{{item}}" bindtap="historysearchTap">{{item}}</text>
        <view class="hi-close" data-index="{{index}}" bindtap="delHistoryItem"></view>
      </view>
      <view class="clear-serach" bindtap="clearHistorySearchs">清除搜索记录</view>
    </block>
  </view>
```
这一部分只有当showSearchPanel=2才显示。

具体的内容，我们首先要判断是否有历史数据。使用historySearchs存储所以历史记录，只有当其长度大于0时，才渲染这一部分。

block里的内容就如我们所要的一致，然后我们为文字，结尾的“X”标志，和最后的“清除搜索记录”添加点击事件。

格式文件为：

```
```
